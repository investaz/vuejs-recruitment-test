{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\popups\\UserTasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\popups\\UserTasks.vue","mtime":1590918306044},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7IA0KIA0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgIHByb3BzOlsiY29udHJhY3RJZCJdLCANCiAgICBkYXRhICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgICBmb3JtRGF0YTp7ICAgfSwNCiAgICAgICAgIGlzRm9ybVZhbGlkOmZhbHNlLA0KICAgICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgICAgIG1lbnU6ZmFsc2UsDQogICAgICAgICB2YWxpZGF0aW9uUnVsZXM6IFsgdiA9PiAhIXYgfHwgJ1NhaMmZbmkgYm/FnyBidXJheG1hcSBvbG1heiEnXSwNCiAgICAgICAgIHVuVmlld2VkVGFza0NvdW50Om51bGwsDQogICAgICAgICAgdmlld2VkVGFza0lkTGlzdDpbXSwNCiAgICAgICAgICB0Q291bnQ6bnVsbA0KICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczp7DQouLi5tYXBBY3Rpb25zKFsidXNlclRhc2tzIiwgInVuVmlld2VkVGFza3NDb3VudCIsInVuQ29tVGFza3NWaWV3Il0pLA0KICByZXNldCgpIHsgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7IH0sDQoNCiAgICB1bkNvbXBsZXRlZFRhc2tzKCl7IA0KICAgICAgICAgICBsZXQgb2JqPXt9DQogICAgICAgICAgICBvYmoudmlld2VkVGFza0lkTGlzdCA9IHRoaXMudmlld2VkVGFza0lkTGlzdDsgDQogICAgICAgICAgIG9iai51c2VySWQ9dGhpcy5sb2dpbnVzZXIudXNlci5pZDsNCiAgICAgICAgICAgdGhpcy51bkNvbVRhc2tzVmlldyhvYmopOyANCiAgICB9LA0KDQogDQogDQogDQogDQogIH0sDQogDQogDQpjb21wdXRlZDp7DQogICAuLi5tYXBHZXR0ZXJzKFsiYWxsdXNlcl90YXNrcyIsImxvZ2ludXNlciIsImFsbHRhc2tzQ291bnQiXSksDQogVENvdW50KCl7DQogICAgaWYoIXRoaXMuZGlhbG9nKXsNCiAgICByZXR1cm4gdGhpcy5hbGx0YXNrc0NvdW50OyB9DQogICAgZWxzZXsNCiAgICAgIHJldHVybiAwOw0KICAgIH0NCiAgICB9LCANCiAgICANCn0sDQoNCmNyZWF0ZWQoKXsgDQogICAgIHRoaXMudW5WaWV3ZWRUYXNrc0NvdW50KHRoaXMubG9naW51c2VyLnVzZXIuaWQpOyANCiAgICAgICB0aGlzLnVzZXJUYXNrcyh0aGlzLmxvZ2ludXNlci51c2VyLmlkKQ0KICAgICAgLnRoZW4oKHJlcyk9PnsgDQogICAgICAgICAgdGhpcy52aWV3ZWRUYXNrSWRMaXN0ID0gcmVzLmRhdGEuZmlsdGVyKGEgPT4gYS52aWV3ZWQ9PWZhbHNlKS5tYXAoYSA9PiBhLmlkKTsgDQogICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5maWx0ZXIoYSA9PiBhLnZpZXdlZD09ZmFsc2UgKS5tYXAoYSA9PiBhLmlkKSk7DQogICAgICB9KQ0KICANCn0NCiAgfQ0K"},{"version":3,"sources":["UserTasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"UserTasks.vue","sourceRoot":"src/popups","sourcesContent":["<template>\r\n  <div>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      width=\"70%\"\r\n    >\r\n      <template v-slot:activator=\"{ on }\">\r\n         \r\n            <v-btn  \r\n            @click=\"unCompletedTasks();userTasks(loginuser.user.id);\"\r\n              icon  v-on=\"on\" \r\n             >\r\n        <v-icon>notifications</v-icon>\r\n          <span v-if=\"TCount!=0\" class=\"button__badge\">{{TCount}}</span>\r\n      </v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title\r\n          class=\"modal-header\"\r\n           \r\n        >\r\n          <span>Bildirişlər</span>\r\n          <v-spacer></v-spacer>\r\n          \r\n             \r\n           <v-btn\r\n           icon\r\n            color=\"primary\"\r\n            text\r\n            @click=\"dialog = false;unViewedTasksCount(loginuser.user.id)\"\r\n          ><v-icon>cancel</v-icon>\r\n            \r\n          </v-btn>\r\n\r\n       \r\n          \r\n        </v-card-title>\r\n          <v-form    v-model=\"isFormValid\" ref=\"form\" >\r\n         \r\n\r\n        <v-divider></v-divider> \r\n        <div style=\"text-align: center;  padding: 35px 0px; font-size: 25px;\" v-if=\"alluser_tasks.length==0\">Bildiriş yoxdur... </div>\r\n         <div class=\"table-componenet\"  v-if=\"alluser_tasks.length!=0\">\r\n           \r\n  <v-simple-table>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th id='1' class=\"text-center\">№</th>\r\n          <th id='8' class=\"text-center\">Müqavilənin nömrəsi</th>\r\n          <th id='2'  class=\"text-center\">Təsviri</th> \r\n          <th id='4'  class=\"text-center\">Göndərən şəxsin S.A.A</th>\r\n          <th id='5'  class=\"text-center\">Göndərən şəxsin vəzifəsi</th>\r\n                 <th id='7'  class=\"text-center\">Müqavilə tarixi</th>  \r\n          <th id='7'  class=\"text-center\">Son tarix</th>   \r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in alluser_tasks\" :key=\"item.id\">\r\n          <td  v-bind:class=\"{ viewed: !item.viewed }\">{{ index+1 }}</td>  \r\n         \r\n            <td>{{ item.contractContractNumber }}</td> \r\n          <td>{{ item.typeDescription }}</td>  \r\n          <td>{{ item.createdByPersonnelSurname+' '+item.createdByPersonnelName+' '+item.createdByPersonnelPatronymic }}</td>\r\n\r\n          <td>{{ item.createdByPersonnelPositionDescription }}</td>\r\n            <td>{{ item.contractContractDate }}</td> \r\n          <td>{{ item.deadline }}</td> \r\n       \r\n        </tr>\r\n      </tbody>\r\n    </template>\r\n  </v-simple-table> \r\n  </div>\r\n\r\n        <v-card-actions class='dialog-buttons'>\r\n           <v-btn   @click=\"unViewedTasksCount(loginuser.user.id);dialog = false;\"  class=\"btn-cancel\" outlined>BAĞLA</v-btn> \r\n            \r\n        </v-card-actions>\r\n    </v-form>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\"; \r\n \r\n  export default {\r\n     props:[\"contractId\"], \r\n    data () {\r\n      return {\r\n         formData:{   },\r\n         isFormValid:false,\r\n         dialog: false,\r\n         menu:false,\r\n         validationRules: [ v => !!v || 'Sahəni boş buraxmaq olmaz!'],\r\n         unViewedTaskCount:null,\r\n          viewedTaskIdList:[],\r\n          tCount:null\r\n      }\r\n    },\r\n    methods:{\r\n...mapActions([\"userTasks\", \"unViewedTasksCount\",\"unComTasksView\"]),\r\n  reset() { this.$refs.form.reset(); },\r\n\r\n    unCompletedTasks(){ \r\n           let obj={}\r\n            obj.viewedTaskIdList = this.viewedTaskIdList; \r\n           obj.userId=this.loginuser.user.id;\r\n           this.unComTasksView(obj); \r\n    },\r\n\r\n \r\n \r\n \r\n \r\n  },\r\n \r\n \r\ncomputed:{\r\n   ...mapGetters([\"alluser_tasks\",\"loginuser\",\"alltasksCount\"]),\r\n TCount(){\r\n    if(!this.dialog){\r\n    return this.alltasksCount; }\r\n    else{\r\n      return 0;\r\n    }\r\n    }, \r\n    \r\n},\r\n\r\ncreated(){ \r\n     this.unViewedTasksCount(this.loginuser.user.id); \r\n       this.userTasks(this.loginuser.user.id)\r\n      .then((res)=>{ \r\n          this.viewedTaskIdList = res.data.filter(a => a.viewed==false).map(a => a.id); \r\n         console.log(res.data.filter(a => a.viewed==false ).map(a => a.id));\r\n      })\r\n  \r\n}\r\n  }\r\n</script>\r\n<style scoped>\r\ntable td{\r\n  position: relative;\r\n}\r\n   .viewed ,  .viewed~td{\r\n   background: #f1d3193b;\r\n    \r\n   }\r\n</style>\r\n "]}]}