{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\MIS\\src\\popups\\UserTasks.vue?vue&type=style&index=0&id=1d890492&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\src\\popups\\UserTasks.vue","mtime":1600098183986},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQp0YWJsZSB0ZHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KfQ0KICAgLnZpZXdlZCAsICAudmlld2VkfnRkew0KICAgYmFja2dyb3VuZDogI2YxZDMxOTNiOw0KICAgIA0KICAgfQ0KDQogICAubm90aWZpY2F0aW9uLXRhYmxlIGF7DQogICAgIGNvbG9yOiAjMjYyNDI0IWltcG9ydGFudDsNCnRleHQtZGVjb3JhdGlvbjogbm9uZSFpbXBvcnRhbnQ7DQogICB9DQoNCiAgICAubm90aWZpY2F0aW9uLXRhYmxlIGE6aG92ZXJ7DQogICAgIG9wYWNpdHk6MC41IWltcG9ydGFudDsgDQogICB9DQo="},{"version":3,"sources":["UserTasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"UserTasks.vue","sourceRoot":"src/popups","sourcesContent":["<template>\r\n  <div>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      width=\"70%\"\r\n    >\r\n      <template v-slot:activator=\"{ on }\">\r\n         \r\n            <v-btn  \r\n            @click=\"userTasks(loginuser.user.id);newtask=false;\"\r\n              icon  v-on=\"on\" \r\n               title=\"Bildiriş\" \r\n             >\r\n        <v-icon>notifications</v-icon>\r\n          <span v-if=\"alltasksCount\" class=\"button__badge\">{{alltasksCount}}</span>\r\n      </v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title\r\n          class=\"modal-header\"\r\n           \r\n        >\r\n          <span>Bildirişlər</span>\r\n          <v-spacer></v-spacer>\r\n          \r\n             \r\n           <v-btn\r\n           icon\r\n            color=\"primary\"\r\n            text\r\n            @click=\"dialog=false;\"\r\n          ><v-icon>cancel</v-icon>\r\n            \r\n          </v-btn>\r\n\r\n       \r\n          \r\n        </v-card-title>\r\n          <v-form    v-model=\"isFormValid\" ref=\"form\" >\r\n         \r\n\r\n        <v-divider></v-divider> \r\n        <div style=\"text-align: center;  padding: 35px 0px; font-size: 25px;\" v-if=\"alluser_tasks.length==0\">Bildiriş yoxdur... </div>\r\n         <div class=\"table-componenet notification-table\"  v-if=\"alluser_tasks.length!=0\">\r\n           \r\n  <v-simple-table>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th id='1' class=\"text-center\">№</th>\r\n          <th id='8' class=\"text-center\">Müqavilənin nömrəsi</th>\r\n          <th id='2'  class=\"text-center\">Təsviri</th> \r\n          <th id='4'  class=\"text-center\">Göndərən şəxsin A.S.A</th>\r\n          <th id='5'  class=\"text-center\">Göndərən şəxsin vəzifəsi</th>\r\n          <th id='7'  class=\"text-center\">Müqavilə tarixi</th>  \r\n          <th id='7'  class=\"text-center\">Son tarix</th>   \r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in alluser_tasks\" :key=\"item.id\">\r\n          <td  v-bind:class=\"{ viewed: !item.viewed }\"> <router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:  'view' , notif:'note' } }\">{{ index+1 }}</router-link></td>  \r\n         \r\n            <td> <router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: {  status:  'view' , notif:'note'   } }\">{{ item.contractContractNumber }}</router-link></td> \r\n          <td><router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:  'view'  , notif:'note'    } }\">{{ item.typeDescription }}</router-link></td>  \r\n          <td><router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:  'view' , notif:'note'     } }\">{{ item.createdByPersonnelName+' '+item.createdByPersonnelSurname+' '+item.createdByPersonnelPatronymic }}</router-link></td>\r\n\r\n          <td><router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:   'view'   , notif:'note'   } }\">{{ item.createdByPersonnelPositionDescription }}</router-link></td>\r\n            <td><router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:   'view'  , notif:'note'    } }\">{{ item.contractContractDate }}</router-link></td> \r\n          <td><router-link target='_blank' :to=\"{ path: '/update/'+ item.contractId  , query: { status:   'view'   , notif:'note'   } }\">{{ item.deadline }}</router-link></td> \r\n \r\n        </tr>\r\n      </tbody>\r\n    </template>\r\n  </v-simple-table> \r\n  </div>\r\n\r\n        <v-card-actions class='dialog-buttons'>\r\n           <v-btn   @click=\"dialog=false;\"  class=\"btn-cancel\" outlined>BAĞLA</v-btn> \r\n            \r\n        </v-card-actions>\r\n    </v-form>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\"; \r\n \r\n  export default {\r\n     props:[\"contractId\"], \r\n    data () {\r\n      return {\r\n         formData:{   },\r\n         isFormValid:false,\r\n         dialog: false,\r\n         menu:false,\r\n         validationRules: [ v => !!v || 'Sahəni boş buraxmaq olmaz!'],\r\n         unViewedTaskCount:null,\r\n          viewedTaskIdList:[],\r\n         newtask:true,\r\n      }\r\n    },\r\n    methods:{\r\n...mapActions([\"userTasks\", \"unViewedTasksCount\",\"unComTasksView\"]),\r\n    \r\n    unViewedTasksCountRun(){\r\n       \r\n       this.userTasks(this.loginuser.user.id)\r\n       .then((res)=>{  \r\n           let obj={};\r\n           obj.viewedTaskIdList = res.data.filter(a => a.viewed==false).map(a => a.id);\r\n           obj.userId=this.loginuser.user.id; \r\n           this.unComTasksView(obj) \r\n           .then(()=>{\r\n               this.unViewedTasksCount(this.loginuser.user.id) \r\n              \r\n           })\r\n      })\r\n    },\r\n\r\n   \r\n \r\n \r\n  },\r\n \r\n   watch: {\r\n    dialog (val) {\r\n      !val && this.unViewedTasksCountRun(); \r\n    }\r\n  },\r\ncomputed:{\r\n   ...mapGetters([\"alluser_tasks\",\"loginuser\",\"alltasksCount\"]),\r\n  \r\n   \r\n}, \r\ncreated(){\r\n  this.unViewedTasksCount(this.loginuser.user.id);\r\n}\r\n  }\r\n</script>\r\n<style scoped>\r\ntable td{\r\n  position: relative;\r\n}\r\n   .viewed ,  .viewed~td{\r\n   background: #f1d3193b;\r\n    \r\n   }\r\n\r\n   .notification-table a{\r\n     color: #262424!important;\r\ntext-decoration: none!important;\r\n   }\r\n\r\n    .notification-table a:hover{\r\n     opacity:0.5!important; \r\n   }\r\n</style>\r\n "]}]}