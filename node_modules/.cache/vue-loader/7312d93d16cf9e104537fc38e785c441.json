{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\MIS\\src\\views\\Dictionary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\src\\views\\Dictionary.vue","mtime":1598600292293},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\MIS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiBpbXBvcnQgRXJyb3JEaWFsb2cgZnJvbSAnLi4vcG9wdXBzL0Vycm9yRGlhbG9nJzsKaW1wb3J0IERlbGV0ZSBmcm9tICcuLi9wb3B1cHMvRGVsZXRlJzsKIGltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgY29tcG9uZW50czp7RGVsZXRlLEVycm9yRGlhbG9nfSwKICAgICBkYXRhICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiJkaWN0aW9uYXJ5IiwKICAgICAgICBkaWFsb2c6IGZhbHNlLAogICAgICAgIGZvcm1EYXRhOnsgfSwKICAgICAgICB0aXRsZTonJywKICAgICAgICBwb3NpdGlvbjogMCwKICAgICAgICBpbmRleDogMCwgCiAgICAgICAgbGFuZ3VhZ2VJZDogbnVsbCwKICAgICAgICAgICBlcnJvck1zZzonJywgCiAgICAgICAgIGRpYWxvZ19lcnI6ZmFsc2UsCiAgICB9ICB9LAogICAgICAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbImZldGNoRGljdGlvbmFyeSIsICJmZXRjaERpY3Rpb25hcnlCeUNvZGUiLCAiYWRkTmV3RGljQ29kZUl0ZW0iLCAnZ2V0VHJhbnNsYXRpb25zQnlJZCcsImdldFRyYW5zbGF0aW9uc0J5UmVzb3VyY2VUeXBlIiwiZ2V0RGVmYXVsdExhbmd1YWdlIiwgImZldGNoT3JnYW5pemF0aW9uVW5pdFR5cGUiXSksCiAgICAgICB1cGRhdGVwb3MoaW5keCl7ICByZXR1cm4gdGhpcy5wb3NpdGlvbj1pbmR4fSwKCiAgICAgICAgYWRkRGljSXRlbVN1Ym1pdChlKSB7ICAgCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAKICAgICAgICB0aGlzLmZvcm1EYXRhLmRpY3Rpb25hcnlDb2RlPXRoaXMuc2xjdGRJdG07CiAgICAgICAgdGhpcy5hZGROZXdEaWNDb2RlSXRlbSggdGhpcy5mb3JtRGF0YSkKICAgICAgICAudGhlbiggKCkgPT57CiAgICAgICAgICAgICB0aGlzLmZldGNoRGljdGlvbmFyeUJ5Q29kZSh0aGlzLnNsY3RkSXRtKTsgCiAgICAgICAgICAgICB0aGlzLmZvcm1EYXRhPXt9OwogICAgICAgICAgICAgdGhpcy5kaWFsb2c9ZmFsc2U7IAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsgIAogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dfZXJyPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnPWVycm9yLnJlc3BvbnNlLmRhdGE7ICAKICAgICAgICAgfSkKCiAgICAgICAgCiAgICAgICAgIAogICAgICAgfSwKICAgIGNsaWNrRnVuY3Rpb25UcigpIHsKICAgICAgIHZhciB0ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJsZS1jb250cmFjdCB0cicpOyAKICAgICAgCiAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyLmxlbmd0aDsgaSsrKSB7CiAgICAgCiAgICAgICAKICAgICAgICAgdHJbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpeyAgIAogICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLWNvbnRyYWN0IHRyLmFjdGl2ZV90cicpIT1udWxsKXsKICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFibGUtY29udHJhY3QgdHIuYWN0aXZlX3RyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlX3RyJyk7fQogICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZV90cicpCiAgICAgICB9LCBmYWxzZQogICAgICAgICApfSAKICAgICAgIH0sCiAgICAgICBjbGlja0Z1bmN0aW9uKCkgewogICAgICAgICB0aGlzLmZldGNoRGljdGlvbmFyeSgpCiAgICAgICAgLnRoZW4oKCk9PnsgCiAgICAgICAgIHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVMaXN0IikuZmlyc3RFbGVtZW50Q2hpbGQ7CiAgICAgICAgIGxpc3QuY2xpY2soKTsKICAgICAgICAgCiAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4geyAgCiAgICAgICAgaWYoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvckNvZGU9PSdTZXNzaW9uLk5vdEZvdW5kJyl7IHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy8nIH0pOyAgIH0gIAogICAgICAgICB9KQogICAgICAgICAgICAgICAgfSAsCgogICAgICAgICAgICAgICAgIGdldFQoaXRlbSl7IAogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFsbHRyYW5zbGF0aW9ucy5pMThuUmVzb3VyY2VJdGVtTGlzdC5maW5kKHggPT4geC5rZXkgPT09IGBEaWN0aW9uYXJpZXMuJHtpdGVtfWApIT0gbnVsbCAmJiB0aGlzLmFsbHRyYW5zbGF0aW9ucy5pMThuUmVzb3VyY2VJdGVtTGlzdCE9IG51bGwpewogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGx0cmFuc2xhdGlvbnMuaTE4blJlc291cmNlSXRlbUxpc3QuZmluZCh4ID0+IHgua2V5ID09PSBgRGljdGlvbmFyaWVzLiR7aXRlbX1gKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0KICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgfSwKCiAgICAgICBjb21wdXRlZDogewogICAgICAgICAuLi5tYXBHZXR0ZXJzKFsiYWxsZGljdGlvbmFyeSIsICJhbGxkaWNieWNvZGUiLCJhbGx0cmFuc2xhdGlvbnMiLCJhbGxvcmdVbml0VHlwZSJdKSwKICAgICAgICAgICBzbGN0ZEl0bSgpeyAgcmV0dXJuIHRoaXMuYWxsZGljdGlvbmFyeVt0aGlzLnBvc2l0aW9uXS5jb2RlICB9LAogICAgICAgICAgICBzbGN0ZEl0bVN0cigpeyAgCiAgICAgICAgICAgICAgaWYodGhpcy5hbGxkaWN0aW9uYXJ5W3RoaXMucG9zaXRpb25dKXsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxkaWN0aW9uYXJ5W3RoaXMucG9zaXRpb25dLmNvZGUgCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICBjdHJ0eXBlOmZ1bmN0aW9uKCl7ICAgIHJldHVybiB0aGlzLmZldGNoRGljdGlvbmFyeUJ5Q29kZSh0aGlzLnNsY3RkSXRtKSAgfSwgIAogCiAgICAgICAgICAgICAgIH0sCgogICAgICBjcmVhdGVkKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgdGhpcy5jbGlja0Z1bmN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hPcmdhbml6YXRpb25Vbml0VHlwZSgpOwogICAgICAKICAgICAgICAgICB9CiAgfQo="},{"version":3,"sources":["Dictionary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"Dictionary.vue","sourceRoot":"src/views","sourcesContent":["\r\n<template>\r\n    <v-row no-gutters>\r\n      <v-col  cols=\"12\"\r\n        sm=\"3\">\r\n        <v-card class=\"menu-dictionary\" >\r\n         <v-list >\r\n     \r\n      <v-list-item-group color=\"primary\">\r\n        <v-list-item \r\n       \r\n          v-for=\"(item, i) in alldictionary\"\r\n          :key=\"i\"  \r\n         @click=\"updatepos(i); ctrtype;\"\r\n          id=\"menuList\"\r\n        > \r\n          <v-list-item-content>\r\n            <v-list-item-title   v-text=\"$t(item.code)\"></v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n        \r\n      </v-list-item-group>\r\n    </v-list>\r\n  </v-card>\r\n      </v-col>\r\n       <v-col  cols=\"12\"\r\n        sm=\"9\">\r\n         <v-card  class=\"filter-dic\">\r\n            <div v-if=\"alldictionary.length\" class='title-dic'>{{$t(slctdItm)}}</div>  \r\n             <div class='button-dic'>\r\n               <v-dialog\r\n                 v-model=\"dialog\"\r\n                 width=\"500\"\r\n                 >\r\n      <template v-slot:activator=\"{ on }\" >\r\n         <v-btn  icon   class='new_button'\r\n           text\r\n          v-on=\"on\">\r\n          <v-icon>create_new_folder</v-icon>\r\n          <span>Yeni</span> \r\n         </v-btn>\r\n         \r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title class=\"modal-header\">\r\n          <span v-if=\"alldictionary.length\"> Soraqca > {{$t(slctdItm)}} > Yeni </span>\r\n          <v-spacer></v-spacer>\r\n          \r\n           <v-btn\r\n            icon\r\n            color=\"primary\"\r\n            text\r\n           \r\n            @click=\" formData={};dialog = false\"\r\n          ><v-icon>cancel</v-icon>\r\n            \r\n          </v-btn>\r\n          \r\n        </v-card-title>\r\n        <v-form  @submit=\"addDicItemSubmit\">\r\n        <v-card-text >\r\n                 <v-row>\r\n                    <v-col cols=\"12\"  md=\"12\" >\r\n                       <v-text-field v-model=\"formData.dictionaryItemCode\" label=\"Adı\"   required ></v-text-field>\r\n                     </v-col> \r\n                     <v-col cols=\"12\"  md=\"12\" >\r\n                       <v-text-field v-model=\"formData.dictionaryItemDescription\" label=\"Təsviri\"   required ></v-text-field>\r\n                     </v-col> \r\n                           <v-col  v-if=\"slctdItmStr=='OrganizationUnitType'\" cols=\"12\"  md=\"12\" >\r\n                      \r\n                     <v-select v-model=\"formData.dictionaryItemParentId\" label=\"Ana tipi\" :items=\"allorgUnitType\" item-value=\"id\" item-text=\"description\"> </v-select>\r\n       \r\n                     </v-col> \r\n                     <v-col cols=\"12\"  md=\"12\" >\r\n                        <v-checkbox\r\n                              label=\"Silmək mümkün olmasın\"\r\n                              v-model=\"formData.readonly\"\r\n                         ></v-checkbox> \r\n                    </v-col> \r\n                 </v-row>                        \r\n        </v-card-text>\r\n         \r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions class='dialog-buttons'>\r\n           <v-btn    @click=\"dialog = false; formData={}\"  class=\"btn-cancel\" outlined>İMTİNA ET</v-btn> \r\n             <v-btn   type=\"submit\" class=\"btn-add\" >ƏLAVƏ ET</v-btn>  \r\n        </v-card-actions>\r\n        </v-form>\r\n      </v-card>\r\n    </v-dialog>\r\n            </div>\r\n            <div class=\"clearfix\"></div>\r\n        </v-card>\r\n        <v-card  class=\"table-dic\">\r\n         <div class=\"table-componenet\">\r\n  <v-simple-table>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th id='1' class=\"text-center\">№</th> \r\n          <th id='3'  class=\"text-center\">Adı</th>\r\n          <th id='4'  class=\"text-center\">Təsviri</th>\r\n       \r\n          <th id='6'  class=\"text-center\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody  class=\"table-contract\">\r\n        <tr v-for=\"(item, index) in alldicbycode\" :key=\"index\" >\r\n          <td>{{ index+1 }}</td>\r\n          <td>{{ item.code }}</td>\r\n          <td>{{ item.description }}</td>\r\n       \r\n           <td  style=\"width:20px\"> \r\n             <div v-if=\"!item.readonly\">\r\n             <Delete v-bind:id=\"item.id\" v-bind:viewName=\"name\"  v-bind:slctedItem=\"slctdItm\" /> </div>\r\n           \r\n            </td> \r\n        </tr>\r\n       \r\n      </tbody>\r\n    </template>\r\n  </v-simple-table> \r\n  </div>\r\n      </v-card>\r\n      </v-col>\r\n     <ErrorDialog v-model=\"dialog_err\"  v-bind:errorMsg=\"errorMsg\"/>\r\n    </v-row>\r\n  \r\n</template>\r\n<script>\r\n import ErrorDialog from '../popups/ErrorDialog';\r\nimport Delete from '../popups/Delete';\r\n import { mapGetters, mapActions } from \"vuex\";\r\n export default {\r\n      components:{Delete,ErrorDialog},\r\n     data () {\r\n      return {\r\n        name:\"dictionary\",\r\n        dialog: false,\r\n        formData:{ },\r\n        title:'',\r\n        position: 0,\r\n        index: 0, \r\n        languageId: null,\r\n           errorMsg:'', \r\n         dialog_err:false,\r\n    }  },\r\n       methods: {\r\n    ...mapActions([\"fetchDictionary\", \"fetchDictionaryByCode\", \"addNewDicCodeItem\", 'getTranslationsById',\"getTranslationsByResourceType\",\"getDefaultLanguage\", \"fetchOrganizationUnitType\"]),\r\n       updatepos(indx){  return this.position=indx},\r\n\r\n        addDicItemSubmit(e) {   \r\n        e.preventDefault(); \r\n        this.formData.dictionaryCode=this.slctdItm;\r\n        this.addNewDicCodeItem( this.formData)\r\n        .then( () =>{\r\n             this.fetchDictionaryByCode(this.slctdItm); \r\n             this.formData={};\r\n             this.dialog=false; \r\n        })\r\n        .catch(error => {  \r\n                this.dialog_err=true;\r\n                this.errorMsg=error.response.data;  \r\n         })\r\n\r\n        \r\n         \r\n       },\r\n    clickFunctionTr() {\r\n       var tr = document.querySelectorAll('.table-contract tr'); \r\n      \r\n       for (var i = 0; i < tr.length; i++) {\r\n     \r\n       \r\n         tr[i].addEventListener(\"click\", function(){   \r\n          if(document.querySelector('.table-contract tr.active_tr')!=null){\r\n           document.querySelector('.table-contract tr.active_tr').classList.remove('active_tr');}\r\n            this.classList.add('active_tr')\r\n       }, false\r\n         )} \r\n       },\r\n       clickFunction() {\r\n         this.fetchDictionary()\r\n        .then(()=>{ \r\n         var list = document.getElementById(\"menuList\").firstElementChild;\r\n         list.click();\r\n         \r\n         })\r\n          .catch(error => {  \r\n        if(error.response.data.errorCode=='Session.NotFound'){ this.$router.push({ path: '/' });   }  \r\n         })\r\n                } ,\r\n\r\n                 getT(item){ \r\n                    if (this.alltranslations.i18nResourceItemList.find(x => x.key === `Dictionaries.${item}`)!= null && this.alltranslations.i18nResourceItemList!= null){\r\n                  return this.alltranslations.i18nResourceItemList.find(x => x.key === `Dictionaries.${item}`).value;\r\n                    }\r\n                         else {\r\n                                \r\n                     return item\r\n                   }\r\n                      },\r\n\r\n                },\r\n\r\n       computed: {\r\n         ...mapGetters([\"alldictionary\", \"alldicbycode\",\"alltranslations\",\"allorgUnitType\"]),\r\n           slctdItm(){  return this.alldictionary[this.position].code  },\r\n            slctdItmStr(){  \r\n              if(this.alldictionary[this.position]){\r\n              return this.alldictionary[this.position].code \r\n              }\r\n              else{\r\n                return false\r\n              }\r\n              },\r\n           ctrtype:function(){    return this.fetchDictionaryByCode(this.slctdItm)  },  \r\n \r\n               },\r\n\r\n      created()\r\n            {\r\n                   this.clickFunction();\r\n                     this.fetchOrganizationUnitType();\r\n      \r\n           }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .row.no-gutters{\r\n        height: 100%;\r\n    }\r\n\r\n     .row.no-gutters>div {\r\n        height: 100%;\r\n    }\r\n      .row.no-gutters .menu-dictionary{\r\n        height: 100%;\r\n            margin-right: 10px;\r\n    }\r\n       .table-dic{\r\n           height: 90%;\r\n       }\r\n       .filter-dic{\r\n               margin: 10px 0px;\r\n    padding: 10px;\r\n       }\r\n\r\n       .title-dic{\r\n           float: left;\r\n           padding-top:5px;\r\n       }\r\n        .button-dic{\r\n           float: right\r\n       }\r\n        .clearfix{\r\n           clear: both\r\n       }\r\n</style>"]}]}