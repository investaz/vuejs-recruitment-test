{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\popups\\NewOrg.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\popups\\NewOrg.vue","mtime":1590734324798},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQogDQppbXBvcnQgeyAgbWFwQWN0aW9ucyxtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7IA0KIGltcG9ydCBFcnJvckRpYWxvZyBmcm9tICcuLi9wb3B1cHMvRXJyb3JEaWFsb2cnOw0KICBleHBvcnQgZGVmYXVsdCB7DQogcHJvcHM6WyJuYW1lIiwicGFyZW50T3JnYW5pemF0aW9uVW5pdElkIiwib3JnYW5pemF0aW9uSWQiLCJlZGl0VHlwZSJdLA0KIGNvbXBvbmVudHM6e0Vycm9yRGlhbG9nfSwNCiAgICBkYXRhICgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIG9iajp7fSwNCiAgICAgICAgIGZvcm1EYXRhOnsgfSwNCiAgICAgICAgIGlzRm9ybVZhbGlkOmZhbHNlLA0KICAgICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgICAgIG1lbnU6ZmFsc2UsDQogICAgICAgICAgICBlcnJvck1zZzonJywNCiAgICAgICAgZGlhbG9nX2VycjpmYWxzZSwNCiAgICAgICAgIGNsaWNrZWQ6IGZhbHNlLA0KICAgICAgICAgdmFsaWRhdGlvblJ1bGVzOiBbIHYgPT4gISF2IHx8ICdTYWjJmW5pIGJvxZ8gYnVyYXhtYXEgb2xtYXohJ10sDQogICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICByZXNldCgpIHsgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsgICB9LA0KICAgIC4uLm1hcEFjdGlvbnMoWyJ1cGRhdGVPcmdzIiwidXBkYXRlVW5pdE9yZ3MiLCJmZXRjaE9yZ2FuaXphdGlvblVuaXRUeXBlIiwgImZldGNoTWFpbk9yZ3MiLCJmZXRjaFVuaXRPcmdzIiwiZmV0Y2hTdWJPcmdzIiwiYWRkT3JnYW5pemF0aW9uVW5pdCJdKSwNCiAgIA0KICAgYWRkYygpew0KICAgICAgIHZhciAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50Zi1uY351bCBsaScpOw0KICAgICANCiAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgIGVsZW1lbnRbaV0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoIm15c3R5bGUiKTsNCn0NCiAgICAgfSwNCiAgICAgICAgbW9yZU0oKXsNCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9yZS1tZW51Jykuc3R5bGUuZGlzcGxheT0nbm9uZScNCiAgICAgIH0sDQogICAgc3VibWl0T3JnVW5pdChlKXsgICAgDQogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgDQoNCiAgICAgICAgaWYodGhpcy5uYW1lPT09J2Zvcm5ldycpew0KDQogICAgICAgIHRoaXMuZm9ybURhdGEucGFyZW50T3JnYW5pemF0aW9uVW5pdElkPXRoaXMucGFyZW50T3JnYW5pemF0aW9uVW5pdElkOw0KICAgICAgICAgdGhpcy5mb3JtRGF0YS5vcmdhbml6YXRpb25JZD10aGlzLm9yZ2FuaXphdGlvbklkOw0KICAgICAgICB0aGlzLmFkZE9yZ2FuaXphdGlvblVuaXQodGhpcy5mb3JtRGF0YSkNCiAgICAgICAgLnRoZW4oKCk9PnsgIA0KICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTsNCiAgICAgICAgIHRoaXMucmVzZXQoKTsNCiAgICAgICAgIHRoaXMuZmV0Y2hNYWluT3JncygpDQogICAgICAgICAudGhlbigoKT0+eyANCg0KICAgICAgICAgIHRoaXMuZGlhbG9nPWZhbHNlOyAgDQogICAgICAgICAgdGhpcy5hZGRjKCk7IA0KDQogICAgICAgICB9KSB9KQ0KICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nX2Vycj10cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2c9ZXJyb3IucmVzcG9uc2UuZGF0YTsgIA0KICAgICAgICAgfSkgDQogICAgICAgICANCiAgICAgICAgIH0NCiAgICAgICAgICAgaWYodGhpcy5uYW1lPT09J2ZvcmVkaXQnKXsNCiAgICAgICAgICAgICB0aGlzLm9iai5hZGRyZXNzPXRoaXMuZm9ybURhdGEuYWRkcmVzczsNCiAgICAgICAgICAgICB0aGlzLm9iai5kZXNjcmlwdGlvbj10aGlzLmZvcm1EYXRhLmRlc2NyaXB0aW9uOw0KICAgICAgICAgICAgIHRoaXMub2JqLmVtYWlsQWRkcmVzcz10aGlzLmZvcm1EYXRhLmVtYWlsQWRkcmVzczsNCiAgICAgICAgICAgICB0aGlzLm9iai5mYXhOdW1iZXI9dGhpcy5mb3JtRGF0YS5mYXhOdW1iZXI7DQogICAgICAgICAgICAgdGhpcy5vYmoucGhvbmVOdW1iZXI9dGhpcy5mb3JtRGF0YS5waG9uZU51bWJlcjsNCiAgICAgICAgICAgICB0aGlzLm9iai53ZWJBZGRyZXNzPXRoaXMuZm9ybURhdGEud2ViQWRkcmVzczsNCiAgICAgICAgICAgICB0aGlzLm9iai50eXBlSWQ9dGhpcy5mb3JtRGF0YS50eXBlSWQ7DQogICAgICAgICAgICAgaWYodGhpcy5lZGl0VHlwZT09PSdlZGl0X21haW5fb3JnJyl7DQogICAgICAgICAgICAgdGhpcy51cGRhdGVPcmdzKHRoaXMub2JqKQ0KICAgICAgICAgICAgIC50aGVuKCgpPT57ICANCiAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hNYWluT3JncygpOw0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nPWZhbHNlOyANCiAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlOw0KICAgICAgICAgICAgICB9KSAgDQogICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsgIA0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nX2Vycj10cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2c9ZXJyb3IucmVzcG9uc2UuZGF0YTsgIA0KICAgICAgICAgICAgICAgICB9KSAgICANCiAgICAgICAgICAgICB9DQogICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgIHRoaXMub2JqLm9yZ2FuaXphdGlvblVuaXRJZD10aGlzLmZvcm1EYXRhLmlkOw0KICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVuaXRPcmdzKHRoaXMub2JqKQ0KICAgICAgICAgICAgICAgICAgIC50aGVuKCgpPT57ICANCiAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hNYWluT3JncygpOw0KICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZz1mYWxzZTsgDQogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7DQogICAgICAgICAgICAgIH0pICANCiAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4geyAgDQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dfZXJyPXRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZz1lcnJvci5yZXNwb25zZS5kYXRhOyAgDQogICAgICAgICAgICAgICAgIH0pIA0KICAgICAgICAgICAgIH0NCiAgICAgICAgICAgfQ0KICAgICAgIH0sDQogICAgICAgICAgZWRpdFR5cGVBY3Rpb24oKXsNCiAgICAgICAgICAgIGlmKHRoaXMuZWRpdFR5cGU9PT0iZWRpdF9tYWluX29yZyIpew0KICAgICAgICAgICAgICB0aGlzLmZldGNoTWFpbk9yZ3MoKQ0KICAgICAgICAgICAgICAudGhlbigoKT0+ew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGE9dGhpcy5hbGxtYWluT3Jncy5maW5kKHggPT4geC5pZCA9PSB0aGlzLm9yZ2FuaXphdGlvbklkKTsgDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5lZGl0VHlwZT09PSJlZGl0X29yZ191bml0Iil7DQogICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hVbml0T3JncygpDQogICAgICAgICAgICAgICAgICAgLnRoZW4oKCk9PnsNCiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybURhdGE9dGhpcy5hbGxPcmdzLmZpbmQoeCA9PiB4LmlkID09IHRoaXMucGFyZW50T3JnYW5pemF0aW9uVW5pdElkKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGxPcmdzLmZpbmQoeCA9PiB4LmlkID09IHRoaXMucGFyZW50T3JnYW5pemF0aW9uVW5pdElkKSkgDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KDQogICAgIA0KDQogICAgICAgIA0KICAgICANCn0sDQogICAgIGNvbXB1dGVkOiB7IA0KICAgICAgIC4uLm1hcEdldHRlcnMoWyJhbGxvcmdVbml0VHlwZSIsImFsbG1haW5PcmdzIiwiYWxsT3JncyIsImFsbHN1Ym9yZ3MiXSksIA0KICAgICB9LA0KICANCiAgIA0KICB9DQo="},{"version":3,"sources":["NewOrg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;;;AAGA","file":"NewOrg.vue","sourceRoot":"src/popups","sourcesContent":["<template>\r\n  <div >\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      width=\"700\"\r\n    >\r\n      <template v-slot:activator=\"{ on }\">\r\n        \r\n          <v-btn  class=\"orgDialog\"\r\n           text @click=\"fetchOrganizationUnitType(); editTypeAction();clicked=false; moreM()\"\r\n          v-on=\"on\">\r\n          <span v-if=\"name==='fornew'\">Şöbə əlavə et</span>\r\n          <span v-if='name===\"foredit\"'>Redaktə et</span>\r\n         </v-btn>\r\n \r\n\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title\r\n          class=\"modal-header\"\r\n           \r\n        >\r\n          <span v-if=\"name==='fornew'\">Yeni</span>\r\n          <span v-if='name===\"foredit\"'>Redaktə</span>\r\n         \r\n          <v-spacer></v-spacer>\r\n          \r\n           <v-btn\r\n           icon\r\n            color=\"primary\"\r\n            text\r\n            @click=\"dialog = false\"\r\n          ><v-icon>cancel</v-icon>\r\n            \r\n          </v-btn>\r\n           \r\n        </v-card-title>\r\n          <v-form @submit=\"submitOrgUnit\"  v-model=\"isFormValid\" ref=\"form\" >\r\n        <v-card-text>\r\n               <v-row>\r\n              \r\n                    <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field label=\"Email\"  v-model=\"formData.emailAddress\" required ></v-text-field>\r\n                       \r\n                         </v-col>    \r\n                 \r\n                 <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field label=\"Faks nömrəsi\"  v-model=\"formData.faxNumber\" required ></v-text-field>\r\n                       \r\n                         </v-col>\r\n                <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field label=\"Telefon nömrəsi\"  v-model=\"formData.phoneNumber\" required ></v-text-field>\r\n                       \r\n                         </v-col>\r\n\r\n                    <v-col cols=\"12\"  md=\"6\"   v-if=\"editType!='edit_main_org'\"> \r\n                           <v-select v-model=\"formData.typeId\"  label=\"Tipi\" :items=\"allorgUnitType\" item-value=\"id\" item-text=\"description\">\r\n    \r\n           </v-select>\r\n                         </v-col>\r\n                         <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field label=\"Veb saytı\"  v-model=\"formData.webAddress\" required ></v-text-field>\r\n                       \r\n                         </v-col>\r\n                           <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field  label=\"Təsviri\" v-model=\"formData.description\" required ></v-text-field>\r\n                       \r\n                         </v-col> \r\n             </v-row>\r\n        </v-card-text> \r\n        <v-divider></v-divider> \r\n        <v-card-actions class='dialog-buttons'>\r\n           <v-btn   @click=\"dialog = false; formData.formatpaymentDate=null; formData.paymentAmount=null\"  class=\"btn-cancel\" outlined>İMTİNA ET</v-btn> \r\n             <v-btn  :disabled=\"clicked\" type=\"submit\" class=\"btn-add\" >TƏSDİQ ET </v-btn>  \r\n        </v-card-actions>\r\n    </v-form>\r\n      </v-card>\r\n          <ErrorDialog v-model=\"dialog_err\"  v-bind:errorMsg=\"errorMsg\"/>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n \r\nimport {  mapActions,mapGetters } from \"vuex\"; \r\n import ErrorDialog from '../popups/ErrorDialog';\r\n  export default {\r\n props:[\"name\",\"parentOrganizationUnitId\",\"organizationId\",\"editType\"],\r\n components:{ErrorDialog},\r\n    data () {\r\n      return {\r\n        obj:{},\r\n         formData:{ },\r\n         isFormValid:false,\r\n         dialog: false,\r\n         menu:false,\r\n            errorMsg:'',\r\n        dialog_err:false,\r\n         clicked: false,\r\n         validationRules: [ v => !!v || 'Sahəni boş buraxmaq olmaz!'],\r\n      }\r\n    },\r\n    methods:{\r\n       reset() {   this.$refs.form.reset();   },\r\n    ...mapActions([\"updateOrgs\",\"updateUnitOrgs\",\"fetchOrganizationUnitType\", \"fetchMainOrgs\",\"fetchUnitOrgs\",\"fetchSubOrgs\",\"addOrganizationUnit\"]),\r\n   \r\n   addc(){\r\n       var  element = document.querySelectorAll('.tf-nc~ul li');\r\n     \r\n       for (var i = 0; i < element.length; i++) {\r\n               element[i].parentElement.parentElement.firstElementChild.classList.add(\"mystyle\");\r\n}\r\n     },\r\n        moreM(){\r\n    document.querySelector('.more-menu').style.display='none'\r\n      },\r\n    submitOrgUnit(e){    \r\n        e.preventDefault(); \r\n\r\n        if(this.name==='fornew'){\r\n\r\n        this.formData.parentOrganizationUnitId=this.parentOrganizationUnitId;\r\n         this.formData.organizationId=this.organizationId;\r\n        this.addOrganizationUnit(this.formData)\r\n        .then(()=>{  \r\n         this.clicked = true;\r\n         this.reset();\r\n         this.fetchMainOrgs()\r\n         .then(()=>{ \r\n\r\n          this.dialog=false;  \r\n          this.addc(); \r\n\r\n         }) })\r\n         .catch(error => {  \r\n                this.dialog_err=true;\r\n                this.errorMsg=error.response.data;  \r\n         }) \r\n         \r\n         }\r\n           if(this.name==='foredit'){\r\n             this.obj.address=this.formData.address;\r\n             this.obj.description=this.formData.description;\r\n             this.obj.emailAddress=this.formData.emailAddress;\r\n             this.obj.faxNumber=this.formData.faxNumber;\r\n             this.obj.phoneNumber=this.formData.phoneNumber;\r\n             this.obj.webAddress=this.formData.webAddress;\r\n             this.obj.typeId=this.formData.typeId;\r\n             if(this.editType==='edit_main_org'){\r\n             this.updateOrgs(this.obj)\r\n             .then(()=>{  \r\n               this.fetchMainOrgs();\r\n                this.dialog=false; \r\n                   this.clicked = true;\r\n              })  \r\n             .catch(error => {  \r\n                this.dialog_err=true;\r\n                this.errorMsg=error.response.data;  \r\n                 })    \r\n             }\r\n             else{\r\n               this.obj.organizationUnitId=this.formData.id;\r\n                 this.updateUnitOrgs(this.obj)\r\n                   .then(()=>{  \r\n                  this.fetchMainOrgs();\r\n                 this.dialog=false; \r\n                    this.clicked = true;\r\n              })  \r\n             .catch(error => {  \r\n                this.dialog_err=true;\r\n                this.errorMsg=error.response.data;  \r\n                 }) \r\n             }\r\n           }\r\n       },\r\n          editTypeAction(){\r\n            if(this.editType===\"edit_main_org\"){\r\n              this.fetchMainOrgs()\r\n              .then(()=>{\r\n                this.formData=this.allmainOrgs.find(x => x.id == this.organizationId); \r\n              })\r\n            }\r\n\r\n            else if(this.editType===\"edit_org_unit\"){\r\n                 this.fetchUnitOrgs()\r\n                   .then(()=>{\r\n                     this.formData=this.allOrgs.find(x => x.id == this.parentOrganizationUnitId);\r\n                    console.log(this.allOrgs.find(x => x.id == this.parentOrganizationUnitId)) \r\n              })\r\n            }\r\n          }\r\n\r\n     \r\n\r\n        \r\n     \r\n},\r\n     computed: { \r\n       ...mapGetters([\"allorgUnitType\",\"allmainOrgs\",\"allOrgs\",\"allsuborgs\"]), \r\n     },\r\n  \r\n   \r\n  }\r\n</script>\r\n\r\n <style  >\r\n .orgDialog{\r\n   min-width: auto!important;\r\n }\r\n .orgDialog span{\r\n      font-size: 1rem;\r\n    font-family: Muli;\r\n    letter-spacing: 0.5px;\r\n }\r\n </style>"]}]}