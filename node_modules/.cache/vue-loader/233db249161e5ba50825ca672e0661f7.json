{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\src\\popups\\AddOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\src\\popups\\AddOrder.vue","mtime":1635486160369},{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuejs-recruitment-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAKIGltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsgIAogICAgIAogZXhwb3J0IGRlZmF1bHQgeyAKICAgIHByb3BzOlsib3JkZXJJZCJdLCAKICAgZGF0YSAoKSB7CiAgICAgcmV0dXJuIHsgIAogICAgIGlzRm9ybVZhbGlkOmZhbHNlLCAKICAgICBkaWFsb2c6ZmFsc2UsCiAgICAgc2VsZWN0ZWRSb3c6IG51bGwsCiAgICAgbWVhbE5hbWU6bnVsbCwgICAgCiAgICAgYW1vdW50Om51bGwsCiAgICAgcHJpY2U6bnVsbCwKICAgICB2YWxpZGF0aW9uUnVsZXM6IFt2ID0+ICEhdiB8fCAnU2FoyZluaSBib8WfIGJ1cmF4bWFxIG9sbWF6IScgXSwKICAgICBpZEZvck9yZGVyOiAxMDAsIAogICAgIH0KICAgfSwKICAgIGNvbXB1dGVkOnsgLi4ubWFwR2V0dGVycyhbImFsbG1lYWxzIl0pfSwKICAgIG1ldGhvZHM6IHsgIC4uLm1hcEFjdGlvbnMoWyJmZXRjaE1lYWxzIiwnYWRkbmV3T3JkZXInXSksICAKICAgIGdldE1lYWwoKXsKICAgICAgaWYodGhpcy5hbW91bnQpewogICAgICB0aGlzLnByaWNlPXRoaXMuYWxsbWVhbHMuZmlsdGVyKGl0ZW09PntyZXR1cm4gaXRlbS5uYW1lID09IHRoaXMubWVhbE5hbWV9KVswXS5wcmljZSp0aGlzLmFtb3VudDsgCiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICAgIHRoaXMucHJpY2U9dGhpcy5hbGxtZWFscy5maWx0ZXIoaXRlbT0+e3JldHVybiBpdGVtLm5hbWUgPT0gdGhpcy5tZWFsTmFtZX0pWzBdLnByaWNlCiAgICAgIH0KICAgIH0sCgogICAgICBhZGRuZXdPcmRlclN1Ym1pdCgpIHsKICAgICAgIGxldCB0b2RheT1uZXcgRGF0ZSgpOwogICAgICAgdGhpcy5hZGRuZXdPcmRlcih7b3JkZXI6ewogICAgICAgaWQ6IHRoaXMuaWRGb3JPcmRlciwKICAgICAgIG1lYWxOYW1lOnRoaXMubWVhbE5hbWUsCiAgICAgICBhbW91bnQ6dGhpcy5hbW91bnQsCiAgICAgICBwcmljZTp0aGlzLnByaWNlLAogICAgICAgc3RhdHVzOid2ZXJpbGRpJywKICAgICAgIG9yZGVyVGltZTp0b2RheS5nZXRIb3VycygpICsgIjoiICsgdG9kYXkuZ2V0TWludXRlcygpIH0sICAgaWQ6dGhpcy5vcmRlcklkfSkgCiAgICAgICB0aGlzLmlkRm9yT3JkZXIrKwogIAogICB9LAoKIAogICAgfSwKCiAgICAgICB3YXRjaCA6IHsKICAgICAgICAgICAgICAgYW1vdW50OiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICAgICB0aGlzLmFtb3VudCA9IHZhbDsKICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubWVhbE5hbWUpeyAgdGhpcy5wcmljZT10aGlzLmFsbG1lYWxzLmZpbHRlcihpdGVtPT57cmV0dXJuIGl0ZW0ubmFtZSA9PSB0aGlzLm1lYWxOYW1lfSlbMF0ucHJpY2V9CiAgICAgICAgICAgICAgICAgICBpZih0aGlzLm1lYWxOYW1lICYmIHZhbCApeyB0aGlzLnByaWNlID0gdGhpcy5wcmljZSAqIHZhbDsgIH0gCiAgICAgICAgICAgICAgIH0sCiAgCiAgICAgICAgICAgICAgIHByaWNlOiBmdW5jdGlvbiAodmFsKSB7IHRoaXMucHJpY2UgPSB2YWw7IH0KICAgfSwgCiAgICAKY3JlYXRlZCgpewogIAogIHRoaXMuZmV0Y2hNZWFscygpCiAKCn0KIH0K"},{"version":3,"sources":["AddOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;AAGA;AACA","file":"AddOrder.vue","sourceRoot":"src/popups","sourcesContent":["<template>\r\n  <div>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      width=\"650\"\r\n    >\r\n      <template v-slot:activator=\"{ on }\" >\r\n       \r\n          <v-btn class=\"add_order\"  v-on=\"on\">Sifariş əlavə et </v-btn>\r\n        \r\n      </template> \r\n\r\n      <v-card>\r\n        <v-card-title\r\n          class=\"modal-header\"\r\n           \r\n        >\r\n          <span>Sifariş əlavə et</span>\r\n          <v-spacer></v-spacer>\r\n          \r\n           <v-btn\r\n             icon\r\n            @click=\"dialog = false\"\r\n          ><v-icon>cancel</v-icon>\r\n            \r\n          </v-btn>\r\n          \r\n        </v-card-title>\r\n              <v-form v-model=\"isFormValid\" ref=\"form\" >\r\n        <v-card-text>\r\n               <v-row>\r\n                  \r\n                           <v-col    cols=\"12\"   md=\"12\" > \r\n                           <v-select  :rules=\"validationRules\" @change='getMeal()' v-model=\"mealName\" label=\"Məhsul adı\"   :items=\"allmeals\"   item-value=\"name\" item-text=\"name\">\r\n                         \r\n                             </v-select>    \r\n          \r\n                        </v-col>  \r\n                        <v-col cols=\"12\"  md=\"6\"   >\r\n                         <v-text-field oninput=\"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\"  :rules=\"validationRules\" v-model=\"amount\"  label=\"Miqdar\"   required ></v-text-field>\r\n                   \r\n                         </v-col>\r\n                          <v-col cols=\"12\"  md=\"6\"   class=\"price\">\r\n                         <v-text-field  disabled  v-model=\"price\"  label=\"Qiymət\"   required ></v-text-field>\r\n                \r\n                         </v-col> \r\n\r\n             </v-row>\r\n        </v-card-text>\r\n              </v-form>\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions class='dialog-buttons'>\r\n           <v-btn  @click=\"dialog = false;\"   class=\"btn-cancel\" outlined>İmtina et</v-btn> \r\n           <v-btn :disabled=\"!isFormValid\"  @click=\"dialog = false; addnewOrderSubmit(); $emit('sum')\" class=\"btn-cancel\" outlined>Tətbiq et</v-btn> \r\n      \r\n        </v-card-actions>\r\n  \r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  \r\n  import { mapGetters, mapActions } from \"vuex\";  \r\n      \r\n  export default { \r\n     props:[\"orderId\"], \r\n    data () {\r\n      return {  \r\n      isFormValid:false, \r\n      dialog:false,\r\n      selectedRow: null,\r\n      mealName:null,    \r\n      amount:null,\r\n      price:null,\r\n      validationRules: [v => !!v || 'Sahəni boş buraxmaq olmaz!' ],\r\n      idForOrder: 100, \r\n      }\r\n    },\r\n     computed:{ ...mapGetters([\"allmeals\"])},\r\n     methods: {  ...mapActions([\"fetchMeals\",'addnewOrder']),  \r\n     getMeal(){\r\n       if(this.amount){\r\n       this.price=this.allmeals.filter(item=>{return item.name == this.mealName})[0].price*this.amount; \r\n       }\r\n       else{\r\n           this.price=this.allmeals.filter(item=>{return item.name == this.mealName})[0].price\r\n       }\r\n     },\r\n\r\n       addnewOrderSubmit() {\r\n        let today=new Date();\r\n        this.addnewOrder({order:{\r\n        id: this.idForOrder,\r\n        mealName:this.mealName,\r\n        amount:this.amount,\r\n        price:this.price,\r\n        status:'verildi',\r\n        orderTime:today.getHours() + \":\" + today.getMinutes() },   id:this.orderId}) \r\n        this.idForOrder++\r\n   \r\n    },\r\n\r\n  \r\n     },\r\n\r\n        watch : {\r\n                amount: function (val) {\r\n                    this.amount = val;\r\n                    if(this.mealName){  this.price=this.allmeals.filter(item=>{return item.name == this.mealName})[0].price}\r\n                    if(this.mealName && val ){ this.price = this.price * val;  } \r\n                },\r\n   \r\n                price: function (val) { this.price = val; }\r\n    }, \r\n     \r\n created(){\r\n   \r\n   this.fetchMeals()\r\n  \r\n\r\n }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}