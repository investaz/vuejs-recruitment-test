{"remainingRequest":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\components\\ContractsTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\src\\components\\ContractsTable.vue","mtime":1590993370541},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\q.samaya\\Desktop\\vuetifytest\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KIA0KaW1wb3J0IEVycm9yRGlhbG9nIGZyb20gJy4uL3BvcHVwcy9FcnJvckRpYWxvZyc7DQppbXBvcnQgQ29udHJhY3REb2N1bWVudCBmcm9tICcuLi9wb3B1cHMvQ29udHJhY3REb2N1bWVudCc7DQppbXBvcnQgQ29udHJhY3RQYXltZW50UGxhbnMgZnJvbSAnLi4vcG9wdXBzL0NvbnRyYWN0UGF5bWVudFBsYW5zJzsNCmltcG9ydCBQYXltZW50IGZyb20gJy4uL3BvcHVwcy9QYXltZW50JzsNCmltcG9ydCBDYW5jZWxDb250cmFjdCBmcm9tICcuLi9wb3B1cHMvQ2FuY2VsQ29udHJhY3QnOw0KaW1wb3J0IENvbXBsZXRlQ29udHJhY3QgZnJvbSAnLi4vcG9wdXBzL0NvbXBsZXRlQ29udHJhY3QnOw0KIGltcG9ydCBIaXN0b3J5Q29udHJhY3QgZnJvbSAnLi4vcG9wdXBzL0hpc3RvcnlDb250cmFjdCc7DQppbXBvcnQgU2VuZCBmcm9tICcuLi9wb3B1cHMvU2VuZCc7DQppbXBvcnQgUmVjb3ZlckNvbnRyYWN0IGZyb20gJy4uL3BvcHVwcy9SZWNvdmVyQ29udHJhY3QnOw0KaW1wb3J0IERlbGV0ZSBmcm9tICcuLi9wb3B1cHMvRGVsZXRlJzsNCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsNCiANCiAgZXhwb3J0IGRlZmF1bHQgew0KICAgICBwcm9wczpbInByb2NjZXNzIl0sIA0KICAgICAgY29tcG9uZW50czp7RXJyb3JEaWFsb2csQ29udHJhY3REb2N1bWVudCxDb250cmFjdFBheW1lbnRQbGFucyxQYXltZW50LCBDYW5jZWxDb250cmFjdCxDb21wbGV0ZUNvbnRyYWN0LCBTZW5kICwgSGlzdG9yeUNvbnRyYWN0LFJlY292ZXJDb250cmFjdCwgRGVsZXRlIH0sDQogDQogICAgZGF0YSAoKSB7DQogICAgICByZXR1cm4geyAgIA0KICAgICAgICANCiAgICAgICAgbmFtZToiY29udHJhY3RzIiwNCiAgICAgICAgcm91dGVyOiB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhdGgsDQogICAgICAgIGVycm9yTXNnOicnLCANCiAgICAgICAgZGlhbG9nX2VycjpmYWxzZSwNCiAgICAgIH0NCiAgICB9LA0KICAgICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbImZldGNoQ29udHJhY3RzIiwgImdldENvbnRyYWN0IiBdKSwNCiAgICANCiAgICAgICBjbGlja0Z1bmN0aW9uKCkgew0KICAgICAgIHZhciB0ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJsZS1jb250cmFjdCB0cicpOyANCiAgICAgIA0KICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHIubGVuZ3RoOyBpKyspIHsNCiAgICAgDQogICAgICAgDQogICAgICAgICB0cltpXS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCl7ICAgDQogICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLWNvbnRyYWN0IHRyLmFjdGl2ZV90cicpIT1udWxsKXsNCiAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLWNvbnRyYWN0IHRyLmFjdGl2ZV90cicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZV90cicpO30NCiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlX3RyJykNCiAgICAgICB9LCBmYWxzZQ0KICAgICAgICAgKX0NCiAgICAgICB9DQogICAgICAgICANCiANCiAgICAgICAgfSwNCg0KICAgICAgICANCiAgY29tcHV0ZWQ6IHsuLi5tYXBHZXR0ZXJzKFsiYWxsbmV3YWdyZWVtZW50IiwiZmlsdGVyZWRhZ3JlZW1lbnRzIiwiZm9ybURhdGEiLCJsb2dpbnVzZXIiLCJjbG9zZU9uQ29udGVudENsaWNrIl0pLA0KICAgICAgICBhY3Rpb25RdWVyeVN0cmluZzpmdW5jdGlvbigpew0KICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2ludXNlci51c2VyLm1lbnVMaXN0LmZpbmQoeCA9PiB4LmNvZGUgPT0iVE9QX01FTlUiKS5tZW51SXRlbUxpc3QuZmluZCh4ID0+IHgucm91dGVQYXRoID09dGhpcy5yb3V0ZXIpLmFjdGlvblF1ZXJ5U3RyaW5nOw0KICAgICAgICAgIA0KICAgICAgICAgIH0sDQogIH0sDQoNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZldGNoQ29udHJhY3RzKHRoaXMuYWN0aW9uUXVlcnlTdHJpbmcpDQogICAgICAgIC50aGVuKCgpPT57DQogICAgICAgICAgIHRoaXMuY2xpY2tGdW5jdGlvbigpOw0KICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7ICANCiAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JDb2RlPT0nU2Vzc2lvbi5Ob3RGb3VuZCcpew0KICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy8nIH0pOyANCiAgICAgICAgICAgIH0gZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ19lcnI9dHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnPWVycm9yLnJlc3BvbnNlLmRhdGE7ICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICB9KQ0KICAgICAgICAgDQogICAgICAgDQogICAgICAgfQ0KDQogIA0KfQ0K"},{"version":3,"sources":["ContractsTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA","file":"ContractsTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"table-componenet\">\r\n  <v-simple-table>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th id='1' class=\"text-center\">№</th>\r\n          <th id='2'  class=\"text-center\">Müqavilənin tipi</th>\r\n           <th id='4'  class=\"text-center\">Müqavilənin nömrəsi</th>\r\n          <th id='3'  class=\"text-center\">Satıcının S.A.A</th>\r\n          <th id='4'  class=\"text-center\">Məsul şəxsin S.A.A</th>  \r\n          <th id='4'  class=\"text-center\">Müqavilə tarixi</th>\r\n         \r\n          <th id='5'  class=\"text-center\"  v-if='Array.isArray(proccess)'>Statusu</th>\r\n          <th id='6'  class=\"text-center\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class=\"table-contract\">\r\n         <tr v-if=\"allnewagreement.length==0\" class=\"norecord\">\r\n          <td colspan=\"6\"><div class=\"norecord-c\">Məlumat yoxdur...</div></td>\r\n        </tr>\r\n        <tr v-for=\"(item, index) in filteredagreements\" :key=\"index\">\r\n          <td>{{ index+1 }}</td> \r\n          <td>{{ item.contractTypeDescription }}</td>\r\n          <td>{{ item.contractNumber }}</td> \r\n          <td>{{ item.sellerPersonnelSurname +' '+item.sellerPersonnelName+' '+ item.sellerPersonnelPatronymic }}</td>\r\n          <td>{{  item.currentProcessorPersonnelSurname+' '+item.currentProcessorPersonnelName+' '+item.currentProcessorPersonnelPatronymic }}</td>\r\n           <td>{{ item.contractDate }}</td> \r\n               <td style=\"color:#ca892f;\" v-if='Array.isArray(proccess)'>{{ $t(item.processStatus) }}</td>\r\n           <td><v-menu offset-y :close-on-content-click='closeOnContentClick' content-class=\"more-menu\">\r\n      <template v-slot:activator=\"{ on }\">\r\n       <v-btn  @click=\"getContract(item.id)\" v-on=\"on\" icon>\r\n        <v-icon>more_vert</v-icon>  \r\n      </v-btn>\r\n      </template>\r\n      <v-list class='button_list'>\r\n          <v-list-item  v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_CANCEL\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><CancelContract v-bind:closeOnContentClick=\"closeOnContentClick\" v-bind:contractId=\"item.id\" v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_CANCEL').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n           <v-list-item  v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_COMPLETE\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><CompleteContract v-bind:contractId=\"item.id\"  v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_COMPLETE').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n         <v-list-item  v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_PAYMENTS\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><Payment v-bind:contractId=\"item.id\"  v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_PAYMENTS').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n          <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_HISTORY\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><HistoryContract v-bind:contractId=\"item.id\" v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_HISTORY').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n         <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_VIEW\")'>\r\n          \r\n            <router-link :to=\"{ path: '/update/'+ item.id  , query: { status: 'view' } }\">\r\n  \r\n           <v-list-item-content>\r\n             <v-list-item-title><v-icon>folder_special</v-icon>Baxış</v-list-item-title>\r\n          </v-list-item-content>\r\n            </router-link>\r\n         </v-list-item>\r\n\r\n           <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_EDIT\")'>\r\n               \r\n          \r\n          <router-link :to=\"{ path: '/update/'+ item.id  , query: { status: 'update', prSt: item.processStatus, contType: item.contractTypeDescription } }\">\r\n           <v-list-item-content>\r\n             <v-list-item-title><v-icon>edit</v-icon><span>Redaktə</span></v-list-item-title>\r\n          </v-list-item-content>\r\n          </router-link>\r\n         </v-list-item>\r\n\r\n           <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_SEND\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><Send v-bind:contractId=\"item.id\"  v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_SEND').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n          <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_RECOVER\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><RecoverContract v-bind:contractId=\"item.id\"  v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_RECOVER').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n\r\n           <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_DELETE\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><Delete v-bind:contractId=\"item.id\"  v-bind:viewName=\"name\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n        <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_DOCUMENTS\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><ContractDocument v-bind:contractId=\"item.id\"   v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_DOCUMENTS').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n\r\n        <v-list-item v-if='item.subMenuItemList.find(x => x.code === \"CONTRACT_PAYMENT_PLAN\")'>\r\n           <v-list-item-content>\r\n             <v-list-item-title><ContractPaymentPlans v-bind:contractId=\"item.id\"   v-bind:viewComponentId=\"item.subMenuItemList.find(x => x.code === 'CONTRACT_PAYMENT_PLAN').viewComponentId\"/></v-list-item-title>\r\n          </v-list-item-content>\r\n         </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n    </td>\r\n        </tr>\r\n      </tbody>\r\n    </template>\r\n  </v-simple-table>  \r\n      <ErrorDialog v-model=\"dialog_err\"  v-bind:errorMsg=\"errorMsg\"/>\r\n  </div>\r\n\r\n</template>\r\n \r\n<script > \r\nimport ErrorDialog from '../popups/ErrorDialog';\r\nimport ContractDocument from '../popups/ContractDocument';\r\nimport ContractPaymentPlans from '../popups/ContractPaymentPlans';\r\nimport Payment from '../popups/Payment';\r\nimport CancelContract from '../popups/CancelContract';\r\nimport CompleteContract from '../popups/CompleteContract';\r\n import HistoryContract from '../popups/HistoryContract';\r\nimport Send from '../popups/Send';\r\nimport RecoverContract from '../popups/RecoverContract';\r\nimport Delete from '../popups/Delete';\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n \r\n  export default {\r\n     props:[\"proccess\"], \r\n      components:{ErrorDialog,ContractDocument,ContractPaymentPlans,Payment, CancelContract,CompleteContract, Send , HistoryContract,RecoverContract, Delete },\r\n \r\n    data () {\r\n      return {   \r\n        \r\n        name:\"contracts\",\r\n        router: this.$router.currentRoute.path,\r\n        errorMsg:'', \r\n        dialog_err:false,\r\n      }\r\n    },\r\n     methods: {\r\n    ...mapActions([\"fetchContracts\", \"getContract\" ]),\r\n    \r\n       clickFunction() {\r\n       var tr = document.querySelectorAll('.table-contract tr'); \r\n      \r\n       for (var i = 0; i < tr.length; i++) {\r\n     \r\n       \r\n         tr[i].addEventListener(\"click\", function(){   \r\n          if(document.querySelector('.table-contract tr.active_tr')!=null){\r\n           document.querySelector('.table-contract tr.active_tr').classList.remove('active_tr');}\r\n            this.classList.add('active_tr')\r\n       }, false\r\n         )}\r\n       }\r\n         \r\n \r\n        },\r\n\r\n        \r\n  computed: {...mapGetters([\"allnewagreement\",\"filteredagreements\",\"formData\",\"loginuser\",\"closeOnContentClick\"]),\r\n        actionQueryString:function(){\r\n          return this.loginuser.user.menuList.find(x => x.code ==\"TOP_MENU\").menuItemList.find(x => x.routePath ==this.router).actionQueryString;\r\n          \r\n          },\r\n  },\r\n\r\n    created() {\r\n        this.fetchContracts(this.actionQueryString)\r\n        .then(()=>{\r\n           this.clickFunction();\r\n        })\r\n          .catch(error => {  \r\n            if(error.response.data.errorCode=='Session.NotFound'){\r\n                   this.$router.push({ path: '/' }); \r\n            } else{\r\n                this.dialog_err=true;\r\n                this.errorMsg=error.response.data;  \r\n                }\r\n         })\r\n         \r\n       \r\n       }\r\n\r\n  \r\n}\r\n</script>\r\n "]}]}